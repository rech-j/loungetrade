{% extends "base.html" %}
{% block title %}Set New Password â€” Lounge Coin{% endblock %}

{% block content %}
<div class="max-w-sm mx-auto">
    <h1 class="text-2xl font-bold mb-6 text-center">Set New Password</h1>

    {% if token_fail %}
    <p class="text-red-500 text-sm text-center">This password reset link is invalid or has expired. Please request a new one.</p>
    {% else %}
    <form method="post" class="space-y-4">
        {% csrf_token %}
        <div>
            <label for="id_password1" class="block text-sm font-medium mb-1.5">New Password</label>
            <input type="password" name="password1" id="id_password1" required
                   class="w-full px-3 py-2 border border-stone rounded-lg bg-cream text-ink dark:bg-ink dark:text-cream dark:border-slate focus:outline-none focus:ring-2 focus:ring-gold">
        </div>
        <div>
            <label for="id_password2" class="block text-sm font-medium mb-1.5">Confirm New Password</label>
            <input type="password" name="password2" id="id_password2" required
                   class="w-full px-3 py-2 border border-stone rounded-lg bg-cream text-ink dark:bg-ink dark:text-cream dark:border-slate focus:outline-none focus:ring-2 focus:ring-gold">
        </div>
        {% if form.errors %}
        <div class="text-red-500 text-sm">
            {% for field in form %}{% for error in field.errors %}{{ error }}{% endfor %}{% endfor %}
        </div>
        {% endif %}
        <button type="submit" class="w-full px-6 py-3 bg-gold text-ink rounded-lg font-medium hover:bg-gold/80 transition-colors">
            Set Password
        </button>
    </form>
    {% endif %}
</div>
{% endblock %}
